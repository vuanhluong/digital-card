<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nguyễn An - Danh thiếp</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      text-align: center;
      padding: 50px 20px;
    }
    h1 {
      margin-bottom: 0.2em;
      font-size: 2em;
    }
    p {
      margin-top: 0;
      color: #555;
      font-size: 1.2em;
    }
    a.btn {
      display: inline-block;
      margin-top: 30px;
      padding: 14px 28px;
      background-color: #007bff;
      color: #fff;
      text-decoration: none;
      font-size: 1em;
      border-radius: 6px;
      font-weight: bold;
    }
    a.btn:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

  <!-- Hiển thị thông tin cơ bản -->
  <h1>Nguyễn An</h1>
  <p>Giám đốc – Công ty ABC</p>

  <!-- Nút hành động -->
  <a id="add-contact-link" class="btn" target="_blank" rel="noopener noreferrer">Thêm vào Danh bạ</a>

  <script>
    const ua = navigator.userAgent;
    const isAndroid = /Android/i.test(ua);
    const isIOS = /iPhone|iPad|iPod/i.test(ua);

    const name    = encodeURIComponent("Nguyễn An");
    const phone   = encodeURIComponent("+84901234567");
    const email   = encodeURIComponent("an.nguyen@abc.com");
    const company = encodeURIComponent("Công ty ABC");
    const title   = encodeURIComponent("Giám đốc");

    // Intent URI dành cho Android (Chrome, Samsung Internet)
    const intentURL =
      `intent://${phone}/#Intent;` +
      `action=com.android.contacts.action.SHOW_OR_CREATE_CONTACT;` +
      `scheme=tel;` +
      `data=${phone};` +
      `S.name=${name};` +
      `S.email=${email};` +
      `S.android.intent.extra.NAME=${name};` +
      `S.android.intent.extra.PHONE=${phone};` +
      `S.android.intent.extra.EMAIL=${email};` +
      `S.android.intent.extra.COMPANY=${company};` +
      `S.android.intent.extra.TITLE=${title};` +
      `end;`;

    // Fallback cho iOS (hoặc thiết bị khác)
    const vcfURL = "nguyen_an.vcf";

    // Gán link phù hợp
    const link = document.getElementById("add-contact-link");
    link.href = isAndroid ? intentURL : vcfURL;
  </script>

</body>
</html>
